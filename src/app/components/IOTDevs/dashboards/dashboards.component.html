<body>
    <header class="header">
        <div class="mt-3" style="width: 45%;">
            <label for="categoria" class="form-label">Selecciona un dispositivo:</label>
            <p-dropdown *ngIf="dispositivos.length > 0" formControlName="selectedDevice" [options]="dispositivos"
                placeholder="Seleccione..." appendTo="body" [style]="{'width': '100%'}" optionLabel="deviceName"
                optionValue="deviceName" (onChange)="dateSelectedDevice($event.value)">
            </p-dropdown>
        </div>
    </header>


    <style>
        .speedometer {
            width: 200px;
            height: 200px;
            border-radius: 50%;
            margin: 0 auto;
            position: relative;
            /* Transparent border for gradient */
            border: 5px solid transparent;
        }

        .speed-dial {
            width: 90%;
            height: 90%;
            border-radius: 50%;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: #fff;
            /* Dial blanco */
        }

        .speed-text {
            position: absolute;
            bottom: 10px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 18px;
            font-weight: bold;
        }

        .humidity-image {
            width: 50px;
            height: 50px;
            position: absolute;
            top: 40%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        .temperatura-image {
            width: 40px;
            height: 50px;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        /* Nuevo CSS para el borde basado en la humedad */
        .speedometer::before {
            content: "";
            position: absolute;
            top: -5px;
            left: -5px;
            width: calc(100% + 10px);
            height: calc(100% + 10px);
            border-radius: 50%;
            box-shadow: inset 0 0 0 5px #00ff00;
            /* Verde para baja humedad */
            z-index: -1;
        }
    </style>






    <!-- <section class="dispositivos">
        <div class="dispositivo">
            <img style="height: 131px; width: 131px;" [src]="imagen2" [alt]="alt">
            <div class="humedad">
                <span class="label">Humedad:</span>
                <span class="value">{{ humedad }}%</span>
            </div>
        </div>
        <div class="dispositivo">
            <img style="height:131px; width:131px;" [src]="imagen" [alt]="alt">
            <div class="temperatura">
                <span class="label">Temperatura:</span>
                <span class="value">{{ temperatura }}</span>
            </div>
        </div>
    </section> -->
    <section class="dispositivos">
        <div class="dispositivo">
            <div class="card flex justify-content-center">
                <p-knob [size]="200"   [(ngModel)]="temperatura" valueColor="SlateGray" rangeColor="MediumTurquoise" [readonly]="true" ></p-knob>
            </div>
            <!-- <div class="speedometer">
                <div class="speed-dial"></div>
                <h3 class="temperatura-image">{{text2}}</h3>
                <div class="speed-text">{{ temperatura }} ºC </div> <!-- Valor dinámico de la temperatura -->

        <!-- </div> -->
            </div>  




























        <div class="dispositivo">
            <div class="speedometer">
                <div class="speed-dial"></div>

                <h3 class="humidity-image">{{text}}</h3>
                <div class="speed-text">{{ humedad }} %</div> <!-- Valor dinámico de la humedad -->
            </div>

        </div>
    </section>








    <section class="botones">
        <div class="fila">
            <!-- Botones de la primera fila -->
            <div class="switch-container" [ngClass]="{ 'active': isCheckedLed }" (click)="toggleSwitch()">
                <label class="switch">
                    <img src="../../../../assets/images/bombilla-de-idea.png" alt="led">
                </label>
                <div class="status-label">{{ isCheckedLed ? 'Encendido' : 'Apagado' }}</div>
            </div>

            <div class="switch-container" [ngClass]="{ 'active': isCheckedValancin }" (click)="toggleSwitchValanin()">
                <label class="switch">
                    <img src="../../../../assets/images/cuna-de-bebe.png" alt="valancin">
                </label>
                <div class="status-label">{{ isCheckedValancin ? 'Encendido' : 'Apagado' }}</div>
            </div>
        </div>

        <div class="fila">
            <!-- Botones de la segunda fila -->
            <div class="switch-container" [ngClass]="{ 'active': isCheckedCarrucel }" (click)="toggleSwitchCarrucel()">
                <label class="switch">
                    <img src="../../../../assets/images/movil-cuna.png" alt="valancin">
                </label>
                <div class="status-label">{{ isCheckedCarrucel ? 'Encendido' : 'Apagado' }}</div>
            </div>
<!-- 
            <div class="switch-container" [ngClass]="{ 'active': isCheckedMusica }" (click)="toggleSwitchMusica()">
                <label class="switch">
                    <img src="../../../../assets/images/cancion-de-cuna.png" alt="valancin">
                </label>
                <div class="status-label">{{ isCheckedMusica ? 'Encendido' : 'Apagado' }}</div>
            </div> -->
        </div>
    </section>

</body>